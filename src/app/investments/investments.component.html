<!--
<li *ngFor="let i of investments">
  {{i.name}}
</li>
-->
<nav class="navbar navbar-expand-lg navbar-light">
  <div class="navbar-collapse" id="navbarNav">
    <ul class="flex-column list-unstyled">
      <li class="nav-divider">
        <div class="d-inline-flex" style="width: 268px">
          <div class="flex-fill text-left">NET WORTH</div>
          <div class="flex-fill text-right">{{netWorth | currency}}</div>
        </div>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-1"
           aria-controls="submenu-1">
          <div class="d-inline-flex" style="width: 268px">
            <div class="flex-fill text-left">CASH </div>
            <div class="flex-fill text-right">{{totalCash | currency}}</div>
          </div>
        </a>
        <div id="submenu-1" class="collapse submenu show" style="">
          <ul class="nav flex-column" *ngFor="let cash of cashAccounts">
            <li class="nav-item d-flex flex-column">
              <div class="d-inline-flex first-line">
                <div class="flex-fill text-left portfolio-name"> {{cash.bank}} </div>
                <div class="flex-fill text-right">{{cash.value | number:'3.2-5'}}</div>
              </div>
              <div class="d-inline-flex second-line">
                <div class="flex-fill text-left">{{cash.type}} </div>
                <div class="flex-fill text-right">{{today.valueOf() - cash.timestamp | timeCal}}</div>
              </div>
            </li>
          </ul>
        </div>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-2"
           aria-controls="submenu-2">
          <div class="d-inline-flex" style="width: 268px">
            <div class="flex-fill text-left">INVESTMENT </div>
            <div class="flex-fill text-right">{{totalInvestment | currency}}</div>
          </div>
        </a>
        <div id="submenu-2" class="collapse submenu show" style="">
          <ul class="nav flex-column" *ngFor="let investment of investments">

            <li class="nav-item  d-flex flex-column">
              <div class="d-inline-flex first-line">
                <a class="flex-fill text-left portfolio-name" (click)="showDetails(investment)">{{investment.name}}
                  <span *ngIf="investment.percent_change > 0">
                    <span class="icon-circle-small icon-box-xs text-success bg-success-light">{{investment.percent_change}}%
                      <i class="fa fa-fw fa-arrow-up"></i></span></span>
                  <span *ngIf="investment.percent_change < 0">
                    <span class="icon-circle-small icon-box-xs text-danger bg-success-light">{{-investment.percent_change}}%
                      <i class="fa fa-fw fa-arrow-down"></i></span></span>
                </a>
                <a class="flex-fill text-right">
                  {{investment.currentValue | number:'3.2-5'}}
                </a>
              </div>
              <div class="d-inline-flex second-line">
                <a class="flex-fill text-left">{{investment.symbol}}</a>
                <a class="flex-fill text-right">{{today.valueOf() - investment.timestamp | timeCal}}</a>
              </div>
            </li>
            <div class="modal fade" id="myModal">
              <div class="modal-dialog">
                <div class="modal-content">

                  <!-- 模态框头部 -->
                  <div class="modal-header">
                    <h4 class="modal-title"> Investment Details </h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                  </div>

                  <!-- 模态框主体 -->
                  <div class="modal-body">
                    {{investment.name}}
                  </div>

                  <!-- 模态框底部 -->
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                  </div>

                </div>
              </div>
            </div>
          </ul>
        </div>
      </li>
    </ul>
  </div>
</nav>
